-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


@package hasql-effectful
@version 0.1.0.0


-- | Contains the statically dispatched effect, and relevant functions for
--   a single connection-based DB effect. If you need to take a connection
--   from a pool of connections, you could look into
--   <tt>hasql-pool-effectful</tt> instead.
--   
--   This adapts the <tt>hasql</tt> package.
module Effectful.Hasql

-- | A single connection DB effect
data DB' :: Effect

-- | Executes a DB session
--   
--   <pre>
--   &gt;&gt;&gt; import qualified Hasql.Session
--   
--   &gt;&gt;&gt; import Hasql.TH (singletonStatement)
--   
--   &gt;&gt;&gt; import Effectful (runEff)
--   </pre>
--   
--   <pre>
--   &gt;&gt;&gt; session = Session.statement () [singletonStatement | SELECT 1 :: INT |]
--   
--   &gt;&gt;&gt; runEff . runDB' connection $ query session
--   Right 1
--   </pre>
query :: forall (es :: [Effect]) (a :: Type). DB' :> es => Session a -> Eff es (Either QueryError a)

-- | Run a <tt>DB'</tt> effect with the initial representation/environment:
--   a DB connection.
runDB' :: forall (es :: [Effect]) (a :: Type). IOE :> es => Connection -> Eff (DB' : es) a -> Eff es a
